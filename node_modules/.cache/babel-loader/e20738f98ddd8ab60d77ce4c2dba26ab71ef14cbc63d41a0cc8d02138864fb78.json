{"ast":null,"code":"import _classCallCheck from\"C:/Users/jorla/Documents/d2rotations/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/jorla/Documents/d2rotations/my-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/jorla/Documents/d2rotations/my-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/jorla/Documents/d2rotations/my-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{getActivityDef}from\"@d2api/manifest-web\";import React from\"react\";import\"./styles/component.css\";import ActivityCard from\"./ActivityCard\";import{jsx as _jsx}from\"react/jsx-runtime\";var API_ENDPOINT=process.env.REACT_APP_API_ENDPOINT;var ActivityCardList=/*#__PURE__*/function(_React$Component){_inherits(ActivityCardList,_React$Component);var _super=_createSuper(ActivityCardList);function ActivityCardList(props){var _this;_classCallCheck(this,ActivityCardList);_this=_super.call(this,props);_this.state={nightmareHuntResponse:{hunts:[]},cruciblePlaylistResponse:{playlists:[]}};return _this;}_createClass(ActivityCardList,[{key:\"getNightmareHunts\",value:function getNightmareHunts(){var _this2=this;fetch(\"\".concat(API_ENDPOINT,\"/api/nightmare_hunts\")).then(function(res){return res.json();}).then(function(res){return _this2.setState({nightmareHuntResponse:res});});}},{key:\"getCruciblePlaylists\",value:function getCruciblePlaylists(){var _this3=this;fetch(\"\".concat(API_ENDPOINT,\"/api/crucible_playlist\")).then(function(res){return res.json();}).then(function(res){return _this3.setState({cruciblePlaylistResponse:res});});}},{key:\"componentDidMount\",value:function componentDidMount(){switch(this.props.activityType){case\"nightmareHunts\":this.getNightmareHunts();break;case\"cruciblePlaylist\":this.getCruciblePlaylists();break;default:break;}}},{key:\"getNightmareHuntsInfo\",value:function getNightmareHuntsInfo(){if(this.state.nightmareHuntResponse===undefined||this.state.nightmareHuntResponse.hunts===undefined)return;var currHuntsInfo=this.state.nightmareHuntResponse.hunts.map(function(hunt){var huntInfo=getActivityDef(hunt);return huntInfo;});return currHuntsInfo;}},{key:\"getCruciblePlaylistInfo\",value:function getCruciblePlaylistInfo(){var cruciblePlaylistInfo=this.state.cruciblePlaylistResponse.playlists.map(function(activity){var activityInfo=getActivityDef(activity.activityHash);return activityInfo;});return cruciblePlaylistInfo;}},{key:\"renderActivities\",value:function renderActivities(activityInfo){if(activityInfo===\"nightmareHunts\"&&this.state.nightmareHuntResponse!==null&&this.state.nightmareHuntResponse.hunts!==null){var huntsInfo=this.getNightmareHuntsInfo();if(huntsInfo===undefined)return/*#__PURE__*/_jsx(\"div\",{children:\"error loading nightmare hunts\"});return huntsInfo.map(function(activity){if(activity===undefined)return/*#__PURE__*/_jsx(\"div\",{children:\"error loading hunt\"});return/*#__PURE__*/_jsx(ActivityCard,{activity:activity},activity.hash);});}else if(activityInfo===\"cruciblePlaylist\"&&this.state.cruciblePlaylistResponse!==null&&this.state.cruciblePlaylistResponse.playlists!==null){var cruciblePlaylistInfo=this.getCruciblePlaylistInfo();if(cruciblePlaylistInfo===undefined)return/*#__PURE__*/_jsx(\"div\",{children:\"error loading crucible playlists\"});return cruciblePlaylistInfo.map(function(activity){if(activity===undefined)return/*#__PURE__*/_jsx(\"div\",{children:\"error loading crucible playlist\"});return/*#__PURE__*/_jsx(ActivityCard,{activity:activity},activity.hash);});}return/*#__PURE__*/_jsx(\"div\",{children:\"Activity type not found\"});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"display-in-row\",children:this.renderActivities(this.props.activityType)});}}]);return ActivityCardList;}(React.Component);export default ActivityCardList;","map":{"version":3,"names":["getActivityDef","React","ActivityCard","jsx","_jsx","API_ENDPOINT","process","env","REACT_APP_API_ENDPOINT","ActivityCardList","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","nightmareHuntResponse","hunts","cruciblePlaylistResponse","playlists","_createClass","key","value","getNightmareHunts","_this2","fetch","concat","then","res","json","setState","getCruciblePlaylists","_this3","componentDidMount","activityType","getNightmareHuntsInfo","undefined","currHuntsInfo","map","hunt","huntInfo","getCruciblePlaylistInfo","cruciblePlaylistInfo","activity","activityInfo","activityHash","renderActivities","huntsInfo","children","hash","render","className","Component"],"sources":["C:/Users/jorla/Documents/d2rotations/my-app/src/components/ActivityCardList.tsx"],"sourcesContent":["import { getActivityDef } from \"@d2api/manifest-web\";\r\nimport React from \"react\";\r\nimport {\r\n\tcruciblePlaylistResponse,\r\n\tnightmareHuntResponse,\r\n} from \"../typeDefinitions/activityTypes\";\r\nimport \"./styles/component.css\";\r\n\r\nimport ActivityCard from \"./ActivityCard\";\r\n\r\nconst API_ENDPOINT = process.env.REACT_APP_API_ENDPOINT;\r\n\r\ntype MyProps = {\r\n\tactivityType: string;\r\n};\r\n\r\ntype MyState = {\r\n\tnightmareHuntResponse: nightmareHuntResponse;\r\n\tcruciblePlaylistResponse: cruciblePlaylistResponse;\r\n};\r\n\r\nclass ActivityCardList extends React.Component<MyProps, MyState> {\r\n\tconstructor(props: MyProps) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tnightmareHuntResponse: { hunts: [] },\r\n\t\t\tcruciblePlaylistResponse: { playlists: [] },\r\n\t\t};\r\n\t}\r\n\r\n\tgetNightmareHunts() {\r\n\t\tfetch(`${API_ENDPOINT}/api/nightmare_hunts`)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(res => this.setState({ nightmareHuntResponse: res }));\r\n\t}\r\n\r\n\tgetCruciblePlaylists() {\r\n\t\tfetch(`${API_ENDPOINT}/api/crucible_playlist`)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(res => this.setState({ cruciblePlaylistResponse: res }));\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tswitch (this.props.activityType) {\r\n\t\t\tcase \"nightmareHunts\":\r\n\t\t\t\tthis.getNightmareHunts();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"cruciblePlaylist\":\r\n\t\t\t\tthis.getCruciblePlaylists();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tgetNightmareHuntsInfo() {\r\n\t\tif (\r\n\t\t\tthis.state.nightmareHuntResponse === undefined ||\r\n\t\t\tthis.state.nightmareHuntResponse.hunts === undefined\r\n\t\t)\r\n\t\t\treturn;\r\n\t\tconst currHuntsInfo = this.state.nightmareHuntResponse.hunts.map(\r\n\t\t\thunt => {\r\n\t\t\t\tconst huntInfo = getActivityDef(hunt);\r\n\t\t\t\treturn huntInfo;\r\n\t\t\t}\r\n\t\t);\r\n\t\treturn currHuntsInfo;\r\n\t}\r\n\r\n\tgetCruciblePlaylistInfo() {\r\n\t\tconst cruciblePlaylistInfo =\r\n\t\t\tthis.state.cruciblePlaylistResponse.playlists.map(activity => {\r\n\t\t\t\tconst activityInfo = getActivityDef(activity.activityHash);\r\n\t\t\t\treturn activityInfo;\r\n\t\t\t});\r\n\t\treturn cruciblePlaylistInfo;\r\n\t}\r\n\r\n\trenderActivities(activityInfo: string) {\r\n\t\tif (\r\n\t\t\tactivityInfo === \"nightmareHunts\" &&\r\n\t\t\tthis.state.nightmareHuntResponse !== null &&\r\n\t\t\tthis.state.nightmareHuntResponse.hunts !== null\r\n\t\t) {\r\n\t\t\tconst huntsInfo = this.getNightmareHuntsInfo();\r\n\t\t\tif (huntsInfo === undefined)\r\n\t\t\t\treturn <div>error loading nightmare hunts</div>;\r\n\t\t\treturn huntsInfo.map(activity => {\r\n\t\t\t\tif (activity === undefined) return <div>error loading hunt</div>;\r\n\t\t\t\treturn <ActivityCard activity={activity} key={activity.hash}/>;\r\n\t\t\t});\r\n\t\t} else if (\r\n\t\t\tactivityInfo === \"cruciblePlaylist\" &&\r\n\t\t\tthis.state.cruciblePlaylistResponse !== null &&\r\n\t\t\tthis.state.cruciblePlaylistResponse.playlists !== null\r\n\t\t) {\r\n\t\t\tconst cruciblePlaylistInfo = this.getCruciblePlaylistInfo();\r\n\t\t\tif (cruciblePlaylistInfo === undefined)\r\n\t\t\t\treturn <div>error loading crucible playlists</div>;\r\n\t\t\treturn cruciblePlaylistInfo.map(activity => {\r\n\t\t\t\tif (activity === undefined)\r\n\t\t\t\t\treturn <div>error loading crucible playlist</div>;\r\n\t\t\t\treturn <ActivityCard activity={activity} key={activity.hash}/>;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn <div>Activity type not found</div>;\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='display-in-row'>\r\n\t\t\t\t{this.renderActivities(this.props.activityType)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ActivityCardList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}