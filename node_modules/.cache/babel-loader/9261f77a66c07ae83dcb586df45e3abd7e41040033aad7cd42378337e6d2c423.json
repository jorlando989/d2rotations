{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/Users/jorla/Documents/d2rotations/my-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _regeneratorRuntime from \"C:/Users/jorla/Documents/d2rotations/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/jorla/Documents/d2rotations/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nexport var destinyManifestLanguages = ['de', 'en', 'es', 'es-mx', 'fr', 'it', 'ja', 'ko', 'pl', 'pt-br', 'ru', 'zh-chs', 'zh-cht'];\nexport function getAllDestinyManifestComponents(http, params) {\n  return http({\n    method: 'GET',\n    url: 'https://www.bungie.net' + params.destinyManifest.jsonWorldContentPaths[params.language]\n  });\n}\nexport function getDestinyManifestComponent(_x, _x2) {\n  return _getDestinyManifestComponent.apply(this, arguments);\n}\nfunction _getDestinyManifestComponent() {\n  _getDestinyManifestComponent = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(http, params) {\n    var r;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          r = {\n            method: 'GET',\n            url: 'https://www.bungie.net' + params.destinyManifest.jsonWorldComponentContentPaths[params.language][params.tableName]\n          };\n          _context.prev = 1;\n          _context.next = 4;\n          return http(r);\n        case 4:\n          return _context.abrupt(\"return\", _context.sent);\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](1);\n          r.url += '?retry';\n          _context.prev = 10;\n          _context.next = 13;\n          return http(r);\n        case 13:\n          return _context.abrupt(\"return\", _context.sent);\n        case 16:\n          _context.prev = 16;\n          _context.t1 = _context[\"catch\"](10);\n          throw _context.t0;\n        case 19:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 7], [10, 16]]);\n  }));\n  return _getDestinyManifestComponent.apply(this, arguments);\n}\nexport function getDestinyManifestSlice(_x3, _x4) {\n  return _getDestinyManifestSlice.apply(this, arguments);\n}\nfunction _getDestinyManifestSlice() {\n  _getDestinyManifestSlice = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(http, params) {\n    var downloadedTables, manifestSlice, _iterator, _step, downloadedTable;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.next = 2;\n          return Promise.all(params.tableNames.map( /*#__PURE__*/function () {\n            var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(tableName) {\n              var tableContent;\n              return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n                while (1) switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _context2.next = 2;\n                    return getDestinyManifestComponent(http, {\n                      destinyManifest: params.destinyManifest,\n                      tableName: tableName,\n                      language: params.language\n                    });\n                  case 2:\n                    tableContent = _context2.sent;\n                    return _context2.abrupt(\"return\", {\n                      tableName: tableName,\n                      tableContent: tableContent\n                    });\n                  case 4:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }, _callee2);\n            }));\n            return function (_x5) {\n              return _ref.apply(this, arguments);\n            };\n          }()));\n        case 2:\n          downloadedTables = _context3.sent;\n          manifestSlice = {};\n          _iterator = _createForOfIteratorHelper(downloadedTables);\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              downloadedTable = _step.value;\n              manifestSlice[downloadedTable.tableName] = downloadedTable.tableContent;\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n          return _context3.abrupt(\"return\", manifestSlice);\n        case 7:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return _getDestinyManifestSlice.apply(this, arguments);\n}","map":{"version":3,"names":["destinyManifestLanguages","getAllDestinyManifestComponents","http","params","method","url","destinyManifest","jsonWorldContentPaths","language","getDestinyManifestComponent","_x","_x2","_getDestinyManifestComponent","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","r","wrap","_callee$","_context","prev","next","jsonWorldComponentContentPaths","tableName","abrupt","sent","t0","t1","stop","getDestinyManifestSlice","_x3","_x4","_getDestinyManifestSlice","_callee3","downloadedTables","manifestSlice","_iterator","_step","downloadedTable","_callee3$","_context3","Promise","all","tableNames","map","_ref","_callee2","tableContent","_callee2$","_context2","_x5","_createForOfIteratorHelper","s","n","done","value","err","e","f"],"sources":["C:/Users/jorla/Documents/d2rotations/my-app/node_modules/bungie-api-ts/destiny2/manifest.js"],"sourcesContent":["export const destinyManifestLanguages = [\n  'de',\n  'en',\n  'es',\n  'es-mx',\n  'fr',\n  'it',\n  'ja',\n  'ko',\n  'pl',\n  'pt-br',\n  'ru',\n  'zh-chs',\n  'zh-cht',\n];\nexport function getAllDestinyManifestComponents(http, params) {\n  return http({\n    method: 'GET',\n    url: 'https://www.bungie.net' + params.destinyManifest.jsonWorldContentPaths[params.language],\n  });\n}\nexport async function getDestinyManifestComponent(http, params) {\n  const r = {\n    method: 'GET',\n    url:\n      'https://www.bungie.net' +\n      params.destinyManifest.jsonWorldComponentContentPaths[params.language][params.tableName],\n  };\n  try {\n    return await http(r);\n  } catch (e) {\n    r.url += '?retry';\n    try {\n      return await http(r);\n    } catch {\n      throw e;\n    }\n  }\n}\nexport async function getDestinyManifestSlice(http, params) {\n  const downloadedTables = await Promise.all(\n    params.tableNames.map(async (tableName) => {\n      const tableContent = await getDestinyManifestComponent(http, {\n        destinyManifest: params.destinyManifest,\n        tableName,\n        language: params.language,\n      });\n      return {\n        tableName,\n        tableContent,\n      };\n    })\n  );\n  const manifestSlice = {};\n  for (const downloadedTable of downloadedTables) {\n    manifestSlice[downloadedTable.tableName] = downloadedTable.tableContent;\n  }\n  return manifestSlice;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}