{"ast":null,"code":"import _classCallCheck from\"C:/Users/jorla/Documents/d2rotations/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/jorla/Documents/d2rotations/my-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/jorla/Documents/d2rotations/my-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/jorla/Documents/d2rotations/my-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import\"./styles/component.css\";import{getItemImage}from\"../services/iconRenderer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var API_ENDPOINT=process.env.REACT_APP_API_ENDPOINT;var AltarsOfSorrow=/*#__PURE__*/function(_React$Component){_inherits(AltarsOfSorrow,_React$Component);var _super=_createSuper(AltarsOfSorrow);function AltarsOfSorrow(props){var _this;_classCallCheck(this,AltarsOfSorrow);_this=_super.call(this,props);_this.state={apiResponse:{currReward:\"\",currRewardInfo:{name:\"\",hash:-1}}};return _this;}_createClass(AltarsOfSorrow,[{key:\"getAltarOfSorrowRewards\",value:function getAltarOfSorrowRewards(){var _this2=this;fetch(\"\".concat(API_ENDPOINT,\"/api/altarsOfSorrow\")).then(function(res){return res.json();}).then(function(res){return _this2.setState({apiResponse:res});});}},{key:\"componentDidMount\",value:function componentDidMount(){this.getAltarOfSorrowRewards();}},{key:\"render\",value:function render(){if(this.state!==null){var itemImageSrc=getItemImage(this.state.apiResponse.currRewardInfo.hash);return/*#__PURE__*/_jsx(\"div\",{className:\"bg-teal itemCard\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"display-in-row center-vertical\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://www.bungie.net\".concat(itemImageSrc),className:\"p5\",alt:\"altars of sorrow reward\"}),this.state.apiResponse.currReward]})});}}}]);return AltarsOfSorrow;}(React.Component);export default AltarsOfSorrow;","map":{"version":3,"names":["React","getItemImage","jsx","_jsx","jsxs","_jsxs","API_ENDPOINT","process","env","REACT_APP_API_ENDPOINT","AltarsOfSorrow","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","apiResponse","currReward","currRewardInfo","name","hash","_createClass","key","value","getAltarOfSorrowRewards","_this2","fetch","concat","then","res","json","setState","componentDidMount","render","itemImageSrc","className","children","src","alt","Component"],"sources":["C:/Users/jorla/Documents/d2rotations/my-app/src/components/AltarsOfSorrow.tsx"],"sourcesContent":["import React from \"react\";\r\nimport \"./styles/component.css\";\r\nimport { getItemImage } from \"../services/iconRenderer\";\r\n\r\nconst API_ENDPOINT = process.env.REACT_APP_API_ENDPOINT;\r\n\r\ntype currRewardType = {\r\n\thash: number;\r\n\tname: string;\r\n};\r\n\r\ntype altarOfSorrowsResponse = {\r\n\tcurrReward: string;\r\n\tcurrRewardInfo: currRewardType;\r\n};\r\n\r\ntype MyProps = {};\r\n\r\ntype MyState = {\r\n\tapiResponse: altarOfSorrowsResponse;\r\n};\r\n\r\nclass AltarsOfSorrow extends React.Component<MyProps, MyState> {\r\n\tconstructor(props: MyProps) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tapiResponse: {\r\n\t\t\t\tcurrReward: \"\",\r\n\t\t\t\tcurrRewardInfo: { name: \"\", hash: -1 },\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tgetAltarOfSorrowRewards() {\r\n\t\tfetch(`${API_ENDPOINT}/api/altarsOfSorrow`)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(res => this.setState({ apiResponse: res }));\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.getAltarOfSorrowRewards();\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.state !== null) {\r\n\t\t\tconst itemImageSrc = getItemImage(this.state.apiResponse.currRewardInfo.hash);\r\n\t\t\treturn (\r\n\t\t\t\t<div className='bg-teal itemCard'>\r\n\t\t\t\t\t<div className='display-in-row center-vertical'>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={`https://www.bungie.net${itemImageSrc}`}\r\n\t\t\t\t\t\t\tclassName='p5'\r\n\t\t\t\t\t\t\talt='altars of sorrow reward'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{this.state.apiResponse.currReward}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default AltarsOfSorrow;\r\n"],"mappings":"ofAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,wBAAwB,CAC/B,OAASC,YAAY,KAAQ,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExD,GAAM,CAAAC,YAAY,CAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB,CAAC,GAkBlD,CAAAC,cAAc,uBAAAC,gBAAA,EAAAC,SAAA,CAAAF,cAAA,CAAAC,gBAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,cAAA,EACnB,SAAAA,eAAYK,KAAc,CAAE,KAAAC,KAAA,CAAAC,eAAA,MAAAP,cAAA,EAC3BM,KAAA,CAAAH,MAAA,CAAAK,IAAA,MAAMH,KAAK,EACXC,KAAA,CAAKG,KAAK,CAAG,CACZC,WAAW,CAAE,CACZC,UAAU,CAAE,EAAE,CACdC,cAAc,CAAE,CAAEC,IAAI,CAAE,EAAE,CAAEC,IAAI,CAAE,CAAC,CAAE,CACtC,CACD,CAAC,CAAC,OAAAR,KAAA,CACH,CAACS,YAAA,CAAAf,cAAA,GAAAgB,GAAA,2BAAAC,KAAA,CAED,SAAAC,wBAAA,CAA0B,KAAAC,MAAA,MACzBC,KAAK,IAAAC,MAAA,CAAIzB,YAAY,wBAAsB,CACzC0B,IAAI,CAAC,SAAAC,GAAG,QAAI,CAAAA,GAAG,CAACC,IAAI,EAAE,GAAC,CACvBF,IAAI,CAAC,SAAAC,GAAG,QAAI,CAAAJ,MAAI,CAACM,QAAQ,CAAC,CAAEf,WAAW,CAAEa,GAAI,CAAC,CAAC,GAAC,CACnD,CAAC,GAAAP,GAAA,qBAAAC,KAAA,CAED,SAAAS,kBAAA,CAAoB,CACnB,IAAI,CAACR,uBAAuB,EAAE,CAC/B,CAAC,GAAAF,GAAA,UAAAC,KAAA,CAED,SAAAU,OAAA,CAAS,CACR,GAAI,IAAI,CAAClB,KAAK,GAAK,IAAI,CAAE,CACxB,GAAM,CAAAmB,YAAY,CAAGrC,YAAY,CAAC,IAAI,CAACkB,KAAK,CAACC,WAAW,CAACE,cAAc,CAACE,IAAI,CAAC,CAC7E,mBACCrB,IAAA,QAAKoC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAChCnC,KAAA,QAAKkC,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC9CrC,IAAA,QACCsC,GAAG,0BAAAV,MAAA,CAA2BO,YAAY,CAAG,CAC7CC,SAAS,CAAC,IAAI,CACdG,GAAG,CAAC,yBAAyB,EAC5B,CACD,IAAI,CAACvB,KAAK,CAACC,WAAW,CAACC,UAAU,GAC7B,EACD,CAER,CACD,CAAC,WAAAX,cAAA,GArC2BV,KAAK,CAAC2C,SAAS,EAwC5C,cAAe,CAAAjC,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}