{"ast":null,"code":"import _classCallCheck from\"C:/Users/jorla/Documents/d2rotations/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/jorla/Documents/d2rotations/my-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/jorla/Documents/d2rotations/my-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/jorla/Documents/d2rotations/my-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{getActivityDef}from\"@d2api/manifest-web\";import React from\"react\";import\"./styles/component.css\";import Card from\"react-bootstrap/Card\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var API_ENDPOINT=process.env.REACT_APP_API_ENDPOINT;var EmpireHunt=/*#__PURE__*/function(_React$Component){_inherits(EmpireHunt,_React$Component);var _super=_createSuper(EmpireHunt);function EmpireHunt(props){var _this;_classCallCheck(this,EmpireHunt);_this=_super.call(this,props);_this.state={apiResponse:{currHunt:\"\"}};return _this;}_createClass(EmpireHunt,[{key:\"getEmpireHuntRotation\",value:function getEmpireHuntRotation(){var _this2=this;fetch(\"\".concat(API_ENDPOINT,\"/api/empire_hunt\")).then(function(res){return res.json();}).then(function(res){return _this2.setState({apiResponse:res});});}},{key:\"componentDidMount\",value:function componentDidMount(){this.getEmpireHuntRotation();}},{key:\"getInfo\",value:function getInfo(){var currHuntInfo=getActivityDef(this.state.apiResponse.currHunt);return currHuntInfo;}},{key:\"render\",value:function render(){if(this.state!==null&&this.state.apiResponse.currHunt!==\"\"){var activity=this.getInfo();if(activity===undefined)return/*#__PURE__*/_jsx(\"div\",{children:\"error loading empire hunt \"});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Card,{style:{width:\"25rem\"},children:[/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",src:\"https://www.bungie.net\".concat(activity.pgcrImage)}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(Card.Title,{children:activity.displayProperties.name})})]})},activity.hash);}}}]);return EmpireHunt;}(React.Component);export default EmpireHunt;","map":{"version":3,"names":["getActivityDef","React","Card","jsx","_jsx","jsxs","_jsxs","API_ENDPOINT","process","env","REACT_APP_API_ENDPOINT","EmpireHunt","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","apiResponse","currHunt","_createClass","key","value","getEmpireHuntRotation","_this2","fetch","concat","then","res","json","setState","componentDidMount","getInfo","currHuntInfo","render","activity","undefined","children","style","width","Img","variant","src","pgcrImage","Body","Title","displayProperties","name","hash","Component"],"sources":["C:/Users/jorla/Documents/d2rotations/my-app/src/components/EmpireHunt.tsx"],"sourcesContent":["import { getActivityDef } from \"@d2api/manifest-web\";\r\nimport React from \"react\";\r\nimport \"./styles/component.css\";\r\n\r\nimport Card from \"react-bootstrap/Card\";\r\n\r\nconst API_ENDPOINT = process.env.REACT_APP_API_ENDPOINT;\r\n\r\ntype empireHuntResponse = {\r\n\tcurrHunt: string;\r\n};\r\n\r\ntype MyProps = {};\r\n\r\ntype MyState = {\r\n\tapiResponse: empireHuntResponse;\r\n};\r\n\r\nclass EmpireHunt extends React.Component<MyProps, MyState> {\r\n\tconstructor(props: MyProps) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tapiResponse: {currHunt: \"\"}\r\n\t\t};\r\n\t}\r\n\r\n\tgetEmpireHuntRotation() {\r\n\t\tfetch(`${API_ENDPOINT}/api/empire_hunt`)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(res => this.setState({ apiResponse: res }));\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.getEmpireHuntRotation();\r\n\t}\r\n\r\n\tgetInfo() {\r\n\t\tconst currHuntInfo = getActivityDef(this.state.apiResponse.currHunt);\r\n\t\treturn currHuntInfo;\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.state !== null && this.state.apiResponse.currHunt !== \"\") {\r\n\t\t\tconst activity = this.getInfo();\r\n\t\t\tif (activity === undefined)\r\n\t\t\t\treturn <div>error loading empire hunt </div>;\r\n\t\t\treturn (\r\n\t\t\t\t<div key={activity.hash}>\r\n\t\t\t\t\t<Card style={{ width: \"25rem\" }}>\r\n\t\t\t\t\t\t<Card.Img\r\n\t\t\t\t\t\t\tvariant='top'\r\n\t\t\t\t\t\t\tsrc={`https://www.bungie.net${activity.pgcrImage}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t{activity.displayProperties.name}\r\n\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default EmpireHunt;\r\n"],"mappings":"ofAAA,OAASA,cAAc,KAAQ,qBAAqB,CACpD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,wBAAwB,CAE/B,MAAO,CAAAC,IAAI,KAAM,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,GAAM,CAAAC,YAAY,CAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB,CAAC,GAYlD,CAAAC,UAAU,uBAAAC,gBAAA,EAAAC,SAAA,CAAAF,UAAA,CAAAC,gBAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,UAAA,EACf,SAAAA,WAAYK,KAAc,CAAE,KAAAC,KAAA,CAAAC,eAAA,MAAAP,UAAA,EAC3BM,KAAA,CAAAH,MAAA,CAAAK,IAAA,MAAMH,KAAK,EACXC,KAAA,CAAKG,KAAK,CAAG,CACZC,WAAW,CAAE,CAACC,QAAQ,CAAE,EAAE,CAC3B,CAAC,CAAC,OAAAL,KAAA,CACH,CAACM,YAAA,CAAAZ,UAAA,GAAAa,GAAA,yBAAAC,KAAA,CAED,SAAAC,sBAAA,CAAwB,KAAAC,MAAA,MACvBC,KAAK,IAAAC,MAAA,CAAItB,YAAY,qBAAmB,CACtCuB,IAAI,CAAC,SAAAC,GAAG,QAAI,CAAAA,GAAG,CAACC,IAAI,EAAE,GAAC,CACvBF,IAAI,CAAC,SAAAC,GAAG,QAAI,CAAAJ,MAAI,CAACM,QAAQ,CAAC,CAAEZ,WAAW,CAAEU,GAAI,CAAC,CAAC,GAAC,CACnD,CAAC,GAAAP,GAAA,qBAAAC,KAAA,CAED,SAAAS,kBAAA,CAAoB,CACnB,IAAI,CAACR,qBAAqB,EAAE,CAC7B,CAAC,GAAAF,GAAA,WAAAC,KAAA,CAED,SAAAU,QAAA,CAAU,CACT,GAAM,CAAAC,YAAY,CAAGpC,cAAc,CAAC,IAAI,CAACoB,KAAK,CAACC,WAAW,CAACC,QAAQ,CAAC,CACpE,MAAO,CAAAc,YAAY,CACpB,CAAC,GAAAZ,GAAA,UAAAC,KAAA,CAED,SAAAY,OAAA,CAAS,CACR,GAAI,IAAI,CAACjB,KAAK,GAAK,IAAI,EAAI,IAAI,CAACA,KAAK,CAACC,WAAW,CAACC,QAAQ,GAAK,EAAE,CAAE,CAClE,GAAM,CAAAgB,QAAQ,CAAG,IAAI,CAACH,OAAO,EAAE,CAC/B,GAAIG,QAAQ,GAAKC,SAAS,CACzB,mBAAOnC,IAAA,QAAAoC,QAAA,CAAK,4BAA0B,EAAM,CAC7C,mBACCpC,IAAA,QAAAoC,QAAA,cACClC,KAAA,CAACJ,IAAI,EAACuC,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAQ,CAAE,CAAAF,QAAA,eAC/BpC,IAAA,CAACF,IAAI,CAACyC,GAAG,EACRC,OAAO,CAAC,KAAK,CACbC,GAAG,0BAAAhB,MAAA,CAA2BS,QAAQ,CAACQ,SAAS,CAAG,EAClD,cACF1C,IAAA,CAACF,IAAI,CAAC6C,IAAI,EAAAP,QAAA,cACTpC,IAAA,CAACF,IAAI,CAAC8C,KAAK,EAAAR,QAAA,CACTF,QAAQ,CAACW,iBAAiB,CAACC,IAAI,EACpB,EACF,GACN,EAXEZ,QAAQ,CAACa,IAAI,CAYjB,CAER,CACD,CAAC,WAAAxC,UAAA,GA5CuBV,KAAK,CAACmD,SAAS,EA+CxC,cAAe,CAAAzC,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}