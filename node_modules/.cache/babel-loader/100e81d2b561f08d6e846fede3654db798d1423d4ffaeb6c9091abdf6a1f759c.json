{"ast":null,"code":"import{loadDefs,allManifest,setApiKey,includeTables,verbose}from\"@d2api/manifest-web\";import React from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var keys=require(\"../config/keys.json\");var neededManifestDefs=require(\"../data/neededManifestDefs.json\");verbose();setApiKey(keys.apiKey);includeTables(neededManifestDefs.tablesNeeded);var manifestLoadPromise=loadDefs();function ensureManifest(){if(allManifest)return;throw manifestLoadPromise;}export function DefsProvider(_ref){var children=_ref.children;console.log(children);return/*#__PURE__*/_jsx(React.Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{children:\"loading manifest...\"}),children:children});}function LoadDefsFirst(_ref2){var children=_ref2.children;ensureManifest();return/*#__PURE__*/_jsx(_Fragment,{children:children});}export function BlockingDefsProvider(_ref3){var children=_ref3.children;return/*#__PURE__*/_jsx(React.Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{className:\"info\",children:\"loading manifest...\"}),children:/*#__PURE__*/_jsx(LoadDefsFirst,{children:children})});}","map":{"version":3,"names":["loadDefs","allManifest","setApiKey","includeTables","verbose","React","jsx","_jsx","Fragment","_Fragment","keys","require","neededManifestDefs","apiKey","tablesNeeded","manifestLoadPromise","ensureManifest","DefsProvider","_ref","children","console","log","Suspense","fallback","LoadDefsFirst","_ref2","BlockingDefsProvider","_ref3","className"],"sources":["C:/Users/jorla/Documents/d2rotations/my-app/src/components/DefsProvider.tsx"],"sourcesContent":["import {\r\n\tloadDefs,\r\n\tallManifest,\r\n\tsetApiKey,\r\n\tincludeTables,\r\n\tverbose,\r\n} from \"@d2api/manifest-web\";\r\nimport React from \"react\";\r\n\r\nconst keys = require(\"../config/keys.json\");\r\nconst neededManifestDefs = require(\"../data/neededManifestDefs.json\");\r\n\r\nverbose();\r\nsetApiKey(keys.apiKey);\r\nincludeTables(neededManifestDefs.tablesNeeded);\r\n\r\nconst manifestLoadPromise = loadDefs();\r\nfunction ensureManifest() {\r\n\tif (allManifest) return;\r\n\tthrow manifestLoadPromise;\r\n}\r\n\r\nexport function DefsProvider({ children }: React.PropsWithChildren<{}>) {\r\n\tconsole.log(children);\r\n\treturn (\r\n\t\t<React.Suspense fallback={<div>loading manifest...</div>}>\r\n\t\t\t{children}\r\n\t\t</React.Suspense>\r\n\t);\r\n}\r\n\r\nfunction LoadDefsFirst({ children }: React.PropsWithChildren<{}>) {\r\n\tensureManifest();\r\n\treturn <>{children}</>;\r\n}\r\n\r\nexport function BlockingDefsProvider({children}: React.PropsWithChildren<{}>) {\r\n\treturn (\r\n\t\t<React.Suspense fallback={<div className=\"info\">loading manifest...</div>}>\r\n\t\t\t<LoadDefsFirst>{children}</LoadDefsFirst>\r\n\t\t</React.Suspense>\r\n\t);\r\n}\r\n\r\n\r\n"],"mappings":"AAAA,OACCA,QAAQ,CACRC,WAAW,CACXC,SAAS,CACTC,aAAa,CACbC,OAAO,KACD,qBAAqB,CAC5B,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE1B,GAAM,CAAAC,IAAI,CAAGC,OAAO,CAAC,qBAAqB,CAAC,CAC3C,GAAM,CAAAC,kBAAkB,CAAGD,OAAO,CAAC,iCAAiC,CAAC,CAErEP,OAAO,EAAE,CACTF,SAAS,CAACQ,IAAI,CAACG,MAAM,CAAC,CACtBV,aAAa,CAACS,kBAAkB,CAACE,YAAY,CAAC,CAE9C,GAAM,CAAAC,mBAAmB,CAAGf,QAAQ,EAAE,CACtC,QAAS,CAAAgB,cAAcA,CAAA,CAAG,CACzB,GAAIf,WAAW,CAAE,OACjB,KAAM,CAAAc,mBAAmB,CAC1B,CAEA,MAAO,SAAS,CAAAE,YAAYA,CAAAC,IAAA,CAA4C,IAAzC,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACtCC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC,CACrB,mBACCZ,IAAA,CAACF,KAAK,CAACiB,QAAQ,EAACC,QAAQ,cAAEhB,IAAA,QAAAY,QAAA,CAAK,qBAAmB,EAAO,CAAAA,QAAA,CACvDA,QAAQ,EACO,CAEnB,CAEA,QAAS,CAAAK,aAAaA,CAAAC,KAAA,CAA4C,IAAzC,CAAAN,QAAQ,CAAAM,KAAA,CAARN,QAAQ,CAChCH,cAAc,EAAE,CAChB,mBAAOT,IAAA,CAAAE,SAAA,EAAAU,QAAA,CAAGA,QAAQ,EAAI,CACvB,CAEA,MAAO,SAAS,CAAAO,oBAAoBA,CAAAC,KAAA,CAA0C,IAAxC,CAAAR,QAAQ,CAAAQ,KAAA,CAARR,QAAQ,CAC7C,mBACCZ,IAAA,CAACF,KAAK,CAACiB,QAAQ,EAACC,QAAQ,cAAEhB,IAAA,QAAKqB,SAAS,CAAC,MAAM,CAAAT,QAAA,CAAC,qBAAmB,EAAO,CAAAA,QAAA,cACzEZ,IAAA,CAACiB,aAAa,EAAAL,QAAA,CAAEA,QAAQ,EAAiB,EACzB,CAEnB"},"metadata":{},"sourceType":"module","externalDependencies":[]}